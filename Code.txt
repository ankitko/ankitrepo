import boto3

# Replace these with your actual AWS credentials
aws_access_key = 'YOUR_ACCESS_KEY'
aws_secret_key = 'YOUR_SECRET_KEY'
region_name = 'us-east-1'  # Replace with your desired region
role_name = 'your-role-name'  # Replace with the IAM role name you want to fetch information for

# Initialize the Boto3 IAM client
iam_client = boto3.client(
    'iam',
    aws_access_key_id=aws_access_key,
    aws_secret_access_key=aws_secret_key,
    region_name=region_name
)

# Fetch information about the IAM role
try:
    role_response = iam_client.get_role(RoleName=role_name)
    role_info = role_response['Role']

    print("IAM Role Information:")
    print("Role Name:", role_info['RoleName'])
    print("Role ID:", role_info['RoleId'])
    print("ARN:", role_info['Arn'])
    print("Path:", role_info['Path'])
    print("Assume Role Policy Document:", role_info['AssumeRolePolicyDocument'])
    print("Create Date:", role_info['CreateDate'])

    # Fetch attached policies
    attached_policies_response = iam_client.list_attached_role_policies(RoleName=role_name)
    attached_policies = attached_policies_response['AttachedPolicies']

    print("\nAttached Policies:")
    for policy in attached_policies:
        print("Policy Name:", policy['PolicyName'])
        print("Policy ARN:", policy['PolicyArn'])
        print("Policy ID:", policy['PolicyId'])

    # Fetch inline policies
    inline_policies_response = iam_client.list_role_policies(RoleName=role_name)
    inline_policy_names = inline_policies_response['PolicyNames']

    print("\nInline Policies:")
    for policy_name in inline_policy_names:
        inline_policy_response = iam_client.get_role_policy(RoleName=role_name, PolicyName=policy_name)
        inline_policy_document = inline_policy_response['PolicyDocument']
        print("Policy Name:", policy_name)
        print("Policy Document:", inline_policy_document)

except Exception as e:
    print("An error occurred:", e)
