import os
import re

def extract_repo_info(file_path):
    with open(file_path, 'r') as file:
        contents = file.read()
        # Regular expression to match the pattern containing remote URL
        pattern = r"remote\(https:\/\/bitbucket\.es\.ad\.adp\.com\/scm\/(?P<repo>[\w-]+)\/(?P<repo_name>[\w-]+)\.git\)"
        matches = re.finditer(pattern, contents)
        for match in matches:
            repo = match.group('repo')
            repo_name = match.group('repo_name')
            print(f"File: {file_path} - Repo: {repo}, Repo Name: {repo_name}")

def search_groovy_files(directory):
    for root, _, files in os.walk(directory):
        for file in files:
            if file.endswith(".groovy"):
                file_path = os.path.join(root, file)
                extract_repo_info(file_path)

# Replace 'your_directory_path' with the directory path containing .groovy files
directory_path = 'your_directory_path'

search_groovy_files(directory_path)
